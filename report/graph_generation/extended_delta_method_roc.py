#!/usr/bin/python3

import matplotlib.pyplot as plt
import numpy as np

# 13 1.
tprs = np.array([
    1.0, 0.6542, 0.5097999999999999, 0.41100000000000003, 0.354, 0.3018,
    0.2614, 0.2486, 0.2158, 0.20079999999999998, 0.18899999999999997, 0.1722,
    0.1646, 0.153, 0.1474, 0.14, 0.125, 0.12240000000000001, 0.1176, 9.68e-2,
    0.1, 9.699999999999999e-2, 9.08e-2, 8.32e-2, 8.24e-2, 7.84e-2,
    7.400000000000001e-2, 7.96e-2, 7.339999999999999e-2, 7.18e-2, 6.02e-2,
    5.5999999999999994e-2, 5.88e-2, 5.54e-2, 5.28e-2, 5.0199999999999995e-2,
    4.7e-2, 4.82e-2, 4.8600000000000004e-2, 4.14e-2, 4.4199999999999996e-2,
    4.38e-2, 3.8599999999999995e-2, 3.98e-2, 3.22e-2, 3.66e-2, 3.74e-2,
    3.26e-2, 3.1e-2, 2.96e-2, 2.8399999999999998e-2, 2.48e-2, 2.5e-2, 2.5e-2,
    2.5e-2, 2.16e-2, 2.06e-2, 2.2400000000000003e-2, 2.16e-2, 2.06e-2, 3.16e-2,
    3.32e-2, 2.96e-2, 2.98e-2, 3.16e-2, 2.92e-2, 2.7999999999999997e-2,
    2.94e-2, 2.7999999999999997e-2, 2.68e-2, 2.54e-2, 2.2400000000000003e-2,
    2.58e-2, 2.3799999999999998e-2, 2.08e-2, 2.5e-2, 2.08e-2, 2.08e-2, 2.4e-2,
    1.92e-2, 1.94e-2, 1.92e-2, 2.02e-2, 2.02e-2, 1.8600000000000002e-2,
    1.8000000000000002e-2, 1.92e-2, 1.92e-2, 1.92e-2, 1.68e-2,
    1.6399999999999998e-2, 1.3600000000000001e-2, 1.28e-2, 1.46e-2, 1.5e-2,
    1.32e-2, 1.6200000000000003e-2, 1.52e-2, 1.34e-2, 1.06e-2, 1.52e-2, 0.0])
fprs = np.array([
    1.0, 0.44799999999999995, 0.2504, 0.1778, 0.1252, 0.102,
    7.780000000000001e-2, 7.32e-2, 6.1e-2, 5.26e-2, 4.4000000000000004e-2,
    4.08e-2, 3.26e-2, 3.16e-2, 2.54e-2, 2.68e-2, 2.4399999999999998e-2,
    2.32e-2, 1.96e-2, 1.84e-2, 1.78e-2, 1.52e-2, 1.5600000000000001e-2,
    1.38e-2, 1.3600000000000001e-2, 9.8e-3, 8.6e-3, 7.4e-3,
    9.399999999999999e-3, 7.2e-3, 1.08e-2, 7.6e-3, 6.6e-3, 7.6e-3, 7.2e-3,
    6.8000000000000005e-3, 4.4e-3, 5.0e-3, 3.8e-3, 5.0e-3, 4.2e-3,
    2.8000000000000004e-3, 2.4e-3, 3.8e-3, 2.8000000000000004e-3,
    3.4000000000000002e-3, 1.8e-3, 2.4e-3, 2.6e-3, 3.2e-3,
    2.8000000000000004e-3, 2.2e-3, 3.2e-3, 2.8000000000000004e-3, 2.4e-3,
    1.6e-3, 2.6e-3, 1.6e-3, 3.2e-3, 1.4000000000000002e-3, 6.6e-3, 6.6e-3,
    6.2e-3, 5.4e-3, 7.6e-3, 7.2e-3, 4.8e-3, 6.6e-3, 5.4e-3, 6.6e-3, 7.6e-3,
    6.2e-3, 6.4e-3, 7.4e-3, 5.8e-3, 5.2e-3, 5.4e-3, 6.0e-3, 4.0e-3, 5.8e-3,
    3.8e-3, 4.2e-3, 4.2e-3, 3.6e-3, 6.0e-3, 4.4e-3, 5.2e-3, 5.4e-3, 4.8e-3,
    4.4e-3, 5.600000000000001e-3, 4.6e-3, 4.8e-3, 5.4e-3,
    3.4000000000000002e-3, 3.0e-3, 3.6e-3, 3.4000000000000002e-3, 4.0e-3,
    4.2e-3, 4.8e-3, 0.0])

p = fprs.argsort()
fprs = fprs[p]
tprs = tprs[p]

plt.plot(fprs, tprs, marker='o', c='r', label='PAN2015 Test Dataset')
plt.plot([0.0, 1.0], linestyle='--', c='tab:gray', label='Baseline TPR = FPR')
plt.grid(True)
plt.ylim(0.0, 1.0)
plt.xlim(0.0, 1.0)
plt.xlabel('False Positive Rate')
plt.ylabel('True Positive Rate')
plt.legend()
plt.savefig('../pictures/extended_delta_method_roc.png')

area = 0.0
for x in range(0, tprs.shape[0] - 1):
    x1 = fprs[x]
    x2 = fprs[x + 1]
    y1 = tprs[x]
    y2 = tprs[x + 1]

    area += y1 * (x2 - x1) + ((x2 - x1) * (y2 - y1) * (1 / 2))

print('AUROC', area)
