#!/usr/bin/python3

import matplotlib.pyplot as plt
import numpy as np

tprs = np.array([1.0, 0.564, 0.36119999999999997, 0.2522, 0.204, 0.1534,
    0.125, 0.10400000000000001, 8.74e-2, 7.62e-2, 6.84e-2,
    6.1200000000000004e-2, 5.2199999999999996e-2, 4.6799999999999994e-2,
    3.48e-2, 3.18e-2, 3.46e-2, 3.1200000000000002e-2, 2.56e-2,
    2.3799999999999998e-2, 2.46e-2, 2.16e-2, 2.08e-2, 1.78e-2, 1.48e-2,
    1.8600000000000002e-2, 1.24e-2, 1.2199999999999999e-2,
    1.1000000000000001e-2, 1.06e-2, 9.8e-3, 8.4e-3, 1.26e-2, 1.04e-2, 8.0e-3,
    7.4e-3, 6.999999999999999e-3, 6.6e-3, 6.8000000000000005e-3,
    6.8000000000000005e-3, 7.4e-3, 6.8000000000000005e-3, 4.8e-3, 5.0e-3,
    5.0e-3, 4.2e-3, 4.0e-3, 3.4000000000000002e-3, 4.4e-3, 3.8e-3, 3.0e-3,
    4.6e-3, 2.0e-3, 3.0e-3, 1.4000000000000002e-3, 3.6e-3, 4.2e-3, 2.2e-3,
    2.4e-3, 2.8000000000000004e-3, 4.6e-3, 3.2e-3, 2.0e-3, 2.4e-3, 3.0e-3,
    2.4e-3, 3.2e-3, 2.6e-3, 2.6e-3, 2.6e-3, 1.6e-3, 3.6e-3,
    2.8000000000000004e-3, 1.6e-3, 1.6e-3, 2.2e-3, 1.2e-3, 1.6e-3, 2.0e-3,
    1.4000000000000002e-3, 2.2e-3, 2.8000000000000004e-3, 1.8e-3, 1.2e-3,
    1.4000000000000002e-3, 1.4000000000000002e-3, 1.2e-3,
    2.8000000000000004e-3, 8.0e-4, 1.0e-3, 1.0e-3, 1.0e-3, 1.0e-3, 1.2e-3,
    8.0e-4, 1.8e-3, 1.2e-3, 6.0e-4, 4.0e-4, 6.0e-4, 6.0e-4])
fprs = np.array([1.0, 0.3986, 0.2228, 0.1632, 0.1158, 9.119999999999999e-2,
    7.919999999999999e-2, 6.96e-2, 6.559999999999999e-2, 5.94e-2, 4.52e-2,
    4.5e-2, 4.14e-2, 3.1400000000000004e-2, 2.88e-2, 2.6000000000000002e-2,
    2.48e-2, 1.94e-2, 1.84e-2, 1.76e-2, 1.48e-2, 1.26e-2, 1.28e-2,
    1.1399999999999999e-2, 1.2199999999999999e-2, 1.2199999999999999e-2,
    6.6e-3, 8.6e-3, 6.0e-3, 7.4e-3, 6.6e-3, 6.0e-3, 5.4e-3, 5.0e-3, 2.6e-3,
    3.6e-3, 4.8e-3, 4.0e-3, 3.0e-3, 1.6e-3, 2.2e-3, 3.2e-3, 1.6e-3, 2.6e-3,
    2.2e-3, 2.8000000000000004e-3, 3.0e-3, 1.8e-3, 6.0e-4, 1.2e-3, 2.2e-3,
    1.6e-3, 8.0e-4, 4.0e-4, 1.0e-3, 6.0e-4, 6.0e-4, 1.2e-3, 8.0e-4, 1.6e-3,
    1.4000000000000002e-3, 4.0e-4, 8.0e-4, 1.6e-3, 1.8e-3, 6.0e-4, 1.8e-3,
    8.0e-4, 6.0e-4, 1.0e-3, 8.0e-4, 6.0e-4, 4.0e-4, 2.0e-4, 2.0e-4, 0.0,
    6.0e-4, 4.0e-4, 2.0e-4, 2.0e-4, 2.0e-4, 4.0e-4, 2.0e-4, 4.0e-4, 4.0e-4,
    0.0, 0.0, 2.0e-4, 2.0e-4, 0.0, 2.0e-4, 2.0e-4, 2.0e-4, 2.0e-4, 0.0,
    4.0e-4, 2.0e-4, 4.0e-4, 0.0, 0.0, 0.0])

p = fprs.argsort()
fprs = fprs[p]
tprs = tprs[p]

plt.plot(fprs, tprs, marker='o', c='r', label='PAN2015 Test Dataset')
plt.plot([0.0, 1.0], linestyle='--', c='tab:gray', label='Baseline TPR = FRP')
plt.grid(True)
plt.ylim(0.0, 1.0)
plt.xlim(0.0, 1.0)
plt.xlabel('False Positive Rate')
plt.ylabel('True Positive Rate')
plt.legend()
plt.savefig('../pictures/delta_method_roc.png')

area = 0.0
for x in range(0, tprs.shape[0] - 1):
    x1 = fprs[x]
    x2 = fprs[x + 1]
    y1 = tprs[x]
    y2 = tprs[x + 1]

    area += y1 * (x2 - x1) + ((x2 - x1) * (y2 - y1) * (1 / 2))

print('AUROC', area)
