#!/usr/bin/python3

import matplotlib.pyplot as plt
import numpy as np

tprs = np.array([
    1.0, 0.5128, 0.33159999999999995, 0.2414, 0.17679999999999998, 0.1376,
    0.1118, 8.88e-2, 7.58e-2, 6.82e-2, 5.74e-2, 5.08e-2, 4.44e-2, 3.98e-2,
    3.5e-2, 3.18e-2, 2.6600000000000002e-2, 2.3799999999999998e-2, 2.4e-2,
    2.2799999999999997e-2, 1.92e-2, 1.6e-2, 1.4199999999999999e-2,
    1.1200000000000002e-2, 1.24e-2, 1.34e-2, 1.08e-2, 1.06e-2,
    1.1200000000000002e-2, 1.06e-2, 7.6e-3, 9.2e-3, 6.999999999999999e-3,
    7.2e-3, 6.2e-3, 4.4e-3, 5.8e-3, 5.8e-3, 3.4000000000000002e-3,
    5.600000000000001e-3, 4.6e-3, 4.2e-3, 4.4e-3, 3.6e-3, 3.2e-3, 4.0e-3,
    2.4e-3, 1.6e-3, 2.8000000000000004e-3, 2.6e-3, 2.8000000000000004e-3,
    2.0e-3, 1.8e-3, 3.4000000000000002e-3, 2.4e-3, 2.6e-3, 6.0e-4, 1.2e-3,
    1.8e-3, 1.2e-3, 1.4000000000000002e-3, 1.8e-3, 2.2e-3,
    1.4000000000000002e-3, 2.0e-3, 1.8e-3, 1.4000000000000002e-3,
    1.4000000000000002e-3, 1.4000000000000002e-3, 1.0e-3,
    1.4000000000000002e-3, 1.4000000000000002e-3, 1.6e-3, 1.0e-3, 1.2e-3,
    1.4000000000000002e-3, 8.0e-4, 1.6e-3, 6.0e-4, 1.0e-3, 8.0e-4, 4.0e-4,
    8.0e-4, 1.0e-3, 6.0e-4, 4.0e-4, 2.0e-4, 6.0e-4, 4.0e-4, 4.0e-4, 6.0e-4,
    4.0e-4, 0.0, 4.0e-4, 1.4000000000000002e-3, 8.0e-4, 6.0e-4, 2.0e-4,
    4.0e-4, 2.0e-4, 2.0e-4, 0.0])
fprs = np.array([
    1.0, 0.39880000000000004, 0.2352, 0.1666, 0.11800000000000001, 8.94e-2,
    7.26e-2, 6.82e-2, 5.42e-2, 4.8799999999999996e-2, 4.18e-2, 3.9e-2,
    3.32e-2, 2.78e-2, 2.76e-2, 1.9799999999999998e-2, 2.2799999999999997e-2,
    2.0e-2, 2.02e-2, 1.68e-2, 1.54e-2, 1.3999999999999999e-2,
    1.2199999999999999e-2, 1.3000000000000001e-2, 1.28e-2, 1.18e-2, 1.16e-2,
    8.4e-3, 8.199999999999999e-3, 8.0e-3, 4.8e-3, 5.600000000000001e-3,
    7.8000000000000005e-3, 6.6e-3, 5.0e-3, 5.600000000000001e-3,
    3.4000000000000002e-3, 3.2e-3, 4.0e-3, 3.8e-3, 2.4e-3, 4.2e-3, 2.2e-3,
    3.2e-3, 1.6e-3, 2.4e-3, 2.0e-3, 1.8e-3, 1.6e-3, 1.4000000000000002e-3,
    8.0e-4, 1.8e-3, 2.0e-4, 1.8e-3, 6.0e-4, 2.0e-4, 1.0e-3, 1.0e-3,
    1.4000000000000002e-3, 8.0e-4, 2.8000000000000004e-3, 1.8e-3,
    1.4000000000000002e-3, 8.0e-4, 1.6e-3, 1.0e-3, 1.0e-3, 1.0e-3, 8.0e-4,
    8.0e-4, 8.0e-4, 1.2e-3, 1.0e-3, 6.0e-4, 4.0e-4, 8.0e-4, 4.0e-4, 6.0e-4,
    6.0e-4, 4.0e-4, 2.0e-4, 4.0e-4, 0.0, 0.0, 0.0, 1.4000000000000002e-3,
    4.0e-4, 2.0e-4, 0.0, 0.0, 2.0e-4, 2.0e-4, 4.0e-4, 4.0e-4, 6.0e-4, 0.0,
    2.0e-4, 2.0e-4, 4.0e-4, 0.0, 0.0, 0.0])

p = fprs.argsort()
fprs = fprs[p]
tprs = tprs[p]

plt.plot(fprs, tprs, marker='o', c='r', label='PAN2015 Test Dataset')
plt.plot([0.0, 1.0], linestyle='--', c='tab:gray', label='Baseline TPR = FRP')
plt.grid(True)
plt.ylim(0.0, 1.0)
plt.xlim(0.0, 1.0)
plt.xlabel('False Positive Rate')
plt.ylabel('True Positive Rate')
plt.legend()
plt.savefig('../pictures/delta_method_roc.png')

area = 0.0
for x in range(0, tprs.shape[0] - 1):
    x1 = fprs[x]
    x2 = fprs[x + 1]
    y1 = tprs[x]
    y2 = tprs[x + 1]

    area += y1 * (x2 - x1) + ((x2 - x1) * (y2 - y1) * (1 / 2))

print('AUROC', area)
